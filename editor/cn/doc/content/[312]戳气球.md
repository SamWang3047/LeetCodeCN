<p>æœ‰ <code>n</code> ä¸ªæ°”çƒï¼Œç¼–å·ä¸º<code>0</code> åˆ° <code>n - 1</code>ï¼Œæ¯ä¸ªæ°”çƒä¸Šéƒ½æ ‡æœ‰ä¸€ä¸ªæ•°å­—ï¼Œè¿™äº›æ•°å­—å­˜åœ¨æ•°ç»„&nbsp;<code>nums</code>&nbsp;ä¸­ã€‚</p>

<p>ç°åœ¨è¦æ±‚ä½ æˆ³ç ´æ‰€æœ‰çš„æ°”çƒã€‚æˆ³ç ´ç¬¬ <code>i</code> ä¸ªæ°”çƒï¼Œä½ å¯ä»¥è·å¾—&nbsp;<code>nums[i - 1] * nums[i] * nums[i + 1]</code> æšç¡¬å¸ã€‚&nbsp;è¿™é‡Œçš„ <code>i - 1</code> å’Œ <code>i + 1</code> ä»£è¡¨å’Œ&nbsp;<code>i</code>&nbsp;ç›¸é‚»çš„ä¸¤ä¸ªæ°”çƒçš„åºå·ã€‚å¦‚æœ <code>i - 1</code>æˆ– <code>i + 1</code> è¶…å‡ºäº†æ•°ç»„çš„è¾¹ç•Œï¼Œé‚£ä¹ˆå°±å½“å®ƒæ˜¯ä¸€ä¸ªæ•°å­—ä¸º <code>1</code> çš„æ°”çƒã€‚</p>

<p>æ±‚æ‰€èƒ½è·å¾—ç¡¬å¸çš„æœ€å¤§æ•°é‡ã€‚</p>

<p>&nbsp;</p> 
<strong>ç¤ºä¾‹ 1ï¼š</strong>

<pre>
<strong>è¾“å…¥ï¼š</strong>nums = [3,1,5,8]
<strong>è¾“å‡ºï¼š</strong>167
<strong>è§£é‡Šï¼š</strong>
nums = [3,1,5,8] --&gt; [3,5,8] --&gt; [3,8] --&gt; [8] --&gt; []
coins =  3*1*5    +   3*5*8   +  1*3*8  + 1*8*1 = 167</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>nums = [1,5]
<strong>è¾“å‡ºï¼š</strong>10
</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul> 
 <li><code>n == nums.length</code></li> 
 <li><code>1 &lt;= n &lt;= 300</code></li> 
 <li><code>0 &lt;= nums[i] &lt;= 100</code></li> 
</ul>

<details><summary><strong>Related Topics</strong></summary>æ•°ç»„ | åŠ¨æ€è§„åˆ’</details><br>

<div>ğŸ‘ 1106, ğŸ‘ 0</div>

<div id="labuladong"><hr>

**é€šçŸ¥ï¼š[æ•°æ®ç»“æ„ç²¾å“è¯¾](https://aep.h5.xeknow.com/s/1XJHEO) å·²æ›´æ–°åˆ° V1.9ï¼Œç‚¹å‡»è¿™é‡Œä½“éªŒ [åˆ·é¢˜å…¨å®¶æ¡¶](https://labuladong.gitee.io/algo/images/others/%E5%85%A8%E5%AE%B6%E6%A1%B6.jpg)ã€‚**



<p><strong><a href="https://labuladong.github.io/article?qno=312" target="_blank">â­ï¸labuladong é¢˜è§£</a></strong></p>
<details><summary><strong>labuladong æ€è·¯</strong></summary>

## åŸºæœ¬æ€è·¯

PSï¼šè¿™é“é¢˜åœ¨[ã€Šç®—æ³•å°æŠ„ã€‹](https://mp.weixin.qq.com/s/tUSovvogbR9StkPWb75fUw) çš„ç¬¬ 181 é¡µã€‚

è¿™é¢˜æ¯”è¾ƒéš¾ï¼Œå»ºè®®çœ‹è¯¦ç»†é¢˜è§£ã€‚

**`dp` æ•°ç»„çš„å«ä¹‰ï¼š`dp[i][j] = x` è¡¨ç¤ºï¼Œæˆ³ç ´æ°”çƒ `i` å’Œæ°”çƒ `j` ä¹‹é—´ï¼ˆå¼€åŒºé—´ï¼Œä¸åŒ…æ‹¬ `i` å’Œ `j`ï¼‰çš„æ‰€æœ‰æ°”çƒï¼Œå¯ä»¥è·å¾—çš„æœ€é«˜åˆ†æ•°ä¸º `x`**ã€‚

çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š

```java
dp[i][j] = dp[i][k] + dp[k][j]
         + points[i]*points[k]*points[j]
```

![](https://labuladong.github.io/algo/images/burstBalloon/1.jpeg)

**è¯¦ç»†é¢˜è§£ï¼š[ç»å…¸åŠ¨æ€è§„åˆ’ï¼šæˆ³æ°”çƒ](https://labuladong.github.io/article/fname.html?fname=æ‰æ°”çƒ)**

**æ ‡ç­¾ï¼š[äºŒç»´åŠ¨æ€è§„åˆ’](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAxODQxMDM0Mw==&action=getalbum&album_id=2122017695998050308)ï¼Œ[åŠ¨æ€è§„åˆ’](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAxODQxMDM0Mw==&action=getalbum&album_id=1318881141113536512)**

## è§£æ³•ä»£ç 

```java
class Solution {
    public int maxCoins(int[] nums) {
        int n = nums.length;
        // æ·»åŠ ä¸¤ä¾§çš„è™šæ‹Ÿæ°”çƒ
        int[] points = new int[n + 2];
        points[0] = points[n + 1] = 1;
        for (int i = 1; i <= n; i++) {
            points[i] = nums[i - 1];
        }
        // base case å·²ç»éƒ½è¢«åˆå§‹åŒ–ä¸º 0
        int[][] dp = new int[n + 2][n + 2];
        // å¼€å§‹çŠ¶æ€è½¬ç§»
        // i åº”è¯¥ä»ä¸‹å¾€ä¸Š
        for (int i = n; i >= 0; i--) {
            // j åº”è¯¥ä»å·¦å¾€å³
            for (int j = i + 1; j < n + 2; j++) {
                // æœ€åæˆ³ç ´çš„æ°”çƒæ˜¯å“ªä¸ªï¼Ÿ
                for (int k = i + 1; k < j; k++) {
                    // æ‹©ä¼˜åšé€‰æ‹©
                    dp[i][j] = Math.max(
                            dp[i][j],
                            dp[i][k] + dp[k][j] + points[i] * points[j] * points[k]
                    );
                }
            }
        }
        return dp[0][n + 1];
    }
}
```

</details>
</div>



